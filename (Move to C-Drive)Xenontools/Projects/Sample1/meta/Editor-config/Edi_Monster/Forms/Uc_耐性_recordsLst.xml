<?xml version="1.0" encoding="Shift_JIS" ?>
                                    <!-- ↓このバージョン番号の説明は
                                           Aa_Editor.xml参照 -->
<codefile-controls codefile-version="2.0">


    <!--
      このコントロールの紹介
    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
        ■
      ■■■ 耐性選択リストボックス
        ■
                                        [記号] Uc:性格_recordsLst;
                                        [種類] リストボックス（C:Lst;）
                                        [画面] 耐性選択ウィンドウ画面
                                                        （Ufo:耐性;）
                                                    （Forms/Ufo_耐性.csv）

                耐性を選ばせるリストボックスです。

    ├──────────────────────────────────┤
      【その他の機能】
                                ・項目をダブルクリックすると、選択と同時に
                                  ウィンドウを閉じる。
    ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
    -->
    <!--
    ┣━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┫
      【読み書きするデータ】
                                [読取元]
                                    。

                                [変更先]
                                    なし。
    └──────────────────────────────────┘
    -->
    <control>


        <!--
          データの設定
        ┌──────────────────────────────────┐
            ■■
          ■  ■ データ読取元
            ■■
                    耐性テーブル（①）の全レコード。（※脚注）

          ■■
          ■  ■ データ変更先
          ■■
                    なし。

        -->
        <data access="from" memory="records">
            <arg name="Pm:name-table;"      value="Ut:耐性;" /><!-- ① -->
        </data>
        <!--
        ├──────────────────────────────────┤
          ※脚注
              ・このコントロールにレコードがどのように表示されるかは、レイアウ
                ト・テーブルの ITEM_DISPLAY_FORMAT フィールドで設定してくださ
                い。
        └──────────────────────────────────┘
        -->


        <!--
          イベントの設定（１／２）
        ┌──────────────────────────────────┐
            ■
          ■  ■ ウィンドウオープン時（①）。
            ■

              （１）このリストボックス・コントロールに、［データの設定］で指定
                    したテーブルを関連付けます。（※脚注）
                    
              （２）［トゥゲザーの設定］に名前が挙がっているコントロールを最新
                    の状態にし、このフォームの整合性を取ります。
        -->
        <event name="Se:読取時;"><!-- ① -->
            <fnc name="Sf:リストボックス_表関連付け;" /><!-- （１） -->
            <fnc name="Sf:整合性を取る;" description="リフレッシュと妥当性判定" /><!-- （２） -->
        </event>
        <!--
        ├──────────────────────────────────┤
          ※脚注
                これにより、リストボックス・コントロールは、テーブルの内容を表
                示できるようになります。
        └──────────────────────────────────┘
        -->


        <!--
          イベントの設定（２／２）
        ┌──────────────────────────────────┐
            ■
          ■  ■ このコントロールをダブルクリックした時（①）。
            ■

              （１）「Ut:耐性;」テーブル（②）の中で現在選択しているレコードの
                    「ID」フィールド（③）の値を、
                    「Uc:能力_BEAR;」コントロールにセットします。
              （２）「Uc:耐性_Mainwnd;」ウィンドウ（⑤）を閉じます。
              （３）［ＴＯＧＥＴＨＥＲ］に名前が挙がっているコントロールを最新
                    の状態にし、このフォームの整合性を取ります。
        -->
        <event name="Se:項目ダブルクリック時;"><!-- ① -->
            <fnc name="Sf:コントロール値設定_選択行の列指定;"><!-- （１） -->
                <arg name="Pm:name-table;" value="Ut:耐性;" /><!-- ② -->
                <arg name="Pm:name-field;" value="ID" /><!-- ③ -->
                <arg name="Pm:name-control-destination;" value="Uc:能力_BEAR;" /><!-- ④ -->
            </fnc>
            <fnc name="Sf:ウィンドウ閉じる;"><!-- （２） -->
                <arg name="Pm:name-control;" value="Uc:耐性_Mainwnd;" /><!-- ⑤ -->
            </fnc>
            <fnc name="Sf:整合性を取る;" /><!-- （３） -->
        </event>
        <!--
        └──────────────────────────────────┘
        -->


        <!--
          トゥゲザーの設定（１／２）
        ┌──────────────────────────────────┐
              ■
          ■■■  ウィンドウオープン時。
          ■

        -->
                        <!-- ① -->
        <together on="Se:読取時;" description="Mainwndのロードが完了したとき。名前末尾の「*」はDirtyフラグ。" target="
            Uc:耐性_recordsLst;*
        "/> <!-- ② -->
        <!--
        ├──────────────────────────────────┤
          ※説明
              ・［イベントの設定］の「Se:読取時;」（①）の中に書かれてある
                「Sf:整合性を取る;」のタイミングで、名前が挙がっているコントロ
                ール（②）を最新の状態にし、このフォームの整合性を取ります。
          ※説明
              ・リストボックス（＊）は、「更新」をしないと、表示が最新にならな
                いので、処理の重い再読み込みを行う。
        └──────────────────────────────────┘
        -->


        <!--
          トゥゲザーの設定（２／２）
        ┌──────────────────────────────────┐
              ■
          ■■■ このコントロールをダブルクリックした時。
          ■

        -->
                        <!-- ① -->
        <together on="Se:項目ダブルクリック時;" description="名前末尾の「*」はDirtyフラグ。タイミングは＜event＞要素の中に「再表示」の＜action＞を入れること。"
        target="
            Uc:能力_BEAR;,
            Uc:能力_BEAR_Name;
        " /> <!-- ② -->
        <!--
        ├──────────────────────────────────┤
          ※説明
              ・[トゥゲザーの設定（１／２）]の説明を参照。類推してください。
        └──────────────────────────────────┘
        -->


    </control>


</codefile-controls>

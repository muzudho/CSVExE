<?xml version="1.0" encoding="Shift_JIS" ?>
                                    <!-- ↓このバージョン番号の説明は
                                           Aa_Editor.xml参照 -->
<codefile-controls codefile-version="2.0">


    <!--
      このコントロールの紹介
    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
        ■
      ■■■ モンスター選択リストボックス
        ■
                                        [記号] Uc:メイン_recordsLst;
                                        [種類] リストボックス（C:Lst;）
                                        [画面] メイン画面
                                                        （Ufo:アイテム;）
                                                    （Forms/Ufo_アイ.csv）

                モンスターを選ばせるリストボックスです。

    ├──────────────────────────────────┤
      【機能】
                                ・選んだレコードの「NO」「ID」フィールド値
                                    を変数に格納する。
    ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
    -->
    <control>


        <!--
          データの設定
        ┌──────────────────────────────────┐
            ■■
          ■  ■ データ読取元
            ■■
                    敵テーブル（①）の全レコード。（※脚注）

          ■■
          ■  ■ データ変更先
          ■■
                    なし。

        -->
        <data access="from" memory="records">
            <arg name="Pm:name-table;"      value="Ut:敵;" /><!-- ① -->
        </data>
        <!--
        ├──────────────────────────────────┤
          ※脚注
              ・このコントロールにレコードがどのように表示されるかは、レイアウ
                ト・テーブルの ITEM_DISPLAY_FORMAT フィールドで設定してくださ
                い。
        └──────────────────────────────────┘
        -->


        <!--
          イベントの設定（１／２）
        ┌──────────────────────────────────┐
            ■
          ■  ■ ウィンドウオープン時（①）。
            ■

              （１）このリストボックス・コントロールに、［ＤＡＴＡ］で指定した
                    テーブルを関連付けます。
                    これにより、リストボックス・コントロールは、テーブルの内容を
                    表示できるようになります。
                    
              （２）［ＴＯＧＥＴＨＥＲ］に名前が挙がっているコントロールを最新
                    の状態にし、このフォームの整合性を取ります。
        -->
        <event name="Se:読取時;"><!-- ① -->
            <fnc name="Sf:リストボックス_表関連付け;" /><!-- （１） -->
            <fnc name="Sf:整合性を取る;" /><!-- （２） -->
        </event>
        <!--
        ├──────────────────────────────────┤
          ※脚注
                これにより、リストボックス・コントロールは、テーブルの内容を表
                示できるようになります。
        └──────────────────────────────────┘
        -->


        <!--
          イベントの設定（２／２）
        ┌──────────────────────────────────┐
            ■
          ■  ■ このコントロールを選択した時（①）。
            ■

              （１）［ＤＡＴＡ］で指定したテーブルと関連付けられているこの
                    リストボックス・コントロールで、現在選択しているレコードの
                    「NO」フィールド（②）の値を、「Ui:選択モンスターRNo;」変数（③）
                    に格納します。
                    
              （２）［ＤＡＴＡ］で指定したテーブルと関連付けられているこの
                    リストボックス・コントロールで、現在選択しているレコードの
                    「ID」フィールド（④）の値を、「Ui:選択モンスターID;」変数（⑤）
                    に格納します。
                    
              （３）［トゥゲザーの設定］に名前が挙がっているコントロールを最新
                    の状態にし、このフォームの整合性を取ります。
        -->
        <event name="Se:項目選択時;"><!-- ① -->
            <fnc name="Sf:変数設定_選択行の列指定;"><!-- （１） -->
                <arg name="Pm:name-field;" value="NO" /><!-- ② -->
                <arg name="Pm:name-var-destination;" value="Ui:選択モンスターRNo;" /><!-- ③ -->
            </fnc>
            <fnc name="Sf:変数設定_選択行の列指定;"><!-- （２） -->
                <arg name="Pm:name-field;" value="ID" /><!-- ④ -->
                <arg name="Pm:name-var-destination;" value="Ui:選択モンスターID;" /><!-- ⑤ -->
            </fnc>
            <fnc name="Sf:整合性を取る;" /><!-- （３） -->
        </event>
        <!--
        └──────────────────────────────────┘
        -->


        <!--
          トゥゲザーの設定（１／２）
        ┌──────────────────────────────────┐
              ■
          ■■■  ウィンドウオープン時。
          ■

        -->
                        <!-- ① -->
        <together on="Se:読取時;" description="名前末尾の「*」はDirtyフラグ。値を読込み直す。"
        target="
            Uc:メイン_recordsLst;*
        "/> <!-- ② -->
        <!--
        ├──────────────────────────────────┤
          ※説明
              ・［イベントの設定］の「Se:読取時;」（①）の中に書かれてある
                「Sf:整合性を取る;」のタイミングで、名前が挙がっているコントロ
                ール（②）を最新の状態にし、このフォームの整合性を取ります。
          ※説明
              ・リストボックスの場合は、名前の後ろに「*」更新記号を付けること。
                リストボックスは、「更新」をしないと、表示が最新にならない。処
                理の重い再読み込みを行う。
        └──────────────────────────────────┘
        -->


        <!--
          トゥゲザーの設定（２／２）
        ┌──────────────────────────────────┐
              ■
          ■■■ このコントロールをダブルクリックした時。
          ■

        -->
                        <!-- ① -->
        <together on="Se:項目選択時;" description="リストボックスから項目を選択したとき。" target="
            Uc:能力_ID;,
            Uc:能力_NO;,
            Uc:能力_PICTURE;,
            Uc:能力_SIZE;,
            Uc:能力_PIC;,
            Uc:能力_NAME;,
            
            Uc:能力_BEAR;,
            Uc:能力_BEAR_Name;,
            
            Uc:能力_RACE;,
            Uc:能力_RACE_Name;,
            
            Uc:能力_LV;,
            Uc:能力_HP;,
            Uc:能力_MP;,
            Uc:能力_EXP;,
            
            Uc:能力_ATK;,
            Uc:能力_DEF;,
            
            Uc:能力_DROP1;,
            Uc:能力_DROP2;,
            
            Uc:能力_ITEM1;,
            Uc:能力_ITEM1_Name;,
            
            Uc:能力_ITEM2;,
            Uc:能力_ITEM2_Name;,

            Uc:作戦_WEAPON;,
            Uc:作戦_WEAPON_Name;,
            
            Uc:作戦_MltAtk0;,
            Uc:作戦_MltAtk1;,
            Uc:作戦_MltAtkS;,
            
            Uc:作戦_MltCmd0;,
            Uc:作戦_MltCmd1;,
            
            
            
            Uc:作戦_skillLst;*,
            Uc:作戦_SKL00;,
            Uc:作戦_SKL00_Name;,
            
            Uc:作戦_LV00;,
            Uc:作戦_OPT00;,
            
            Uc:作戦_COND00_Explain;,
            Uc:作戦_COND00;,
            Uc:作戦_COND00x;,
            Uc:作戦_COND00y;,
            Uc:作戦_COND00z;,
            
            Uc:作戦_PRI00;,
            Uc:作戦_USE00;,
            Uc:作戦_PER00_Explain;,
            Uc:作戦_PER00;
            Uc:作戦_PER00a;
        " /> <!-- ② -->
        <!--
        ├──────────────────────────────────┤
          ※説明
              ・[トゥゲザーの設定（１／２）]の説明を参照。類推してください。
        └──────────────────────────────────┘
        -->
    </control>


</codefile-controls>

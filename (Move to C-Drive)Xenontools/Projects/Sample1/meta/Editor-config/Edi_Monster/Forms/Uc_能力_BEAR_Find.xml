<?xml version="1.0" encoding="Shift_JIS" ?>
                                    <!-- ↓このバージョン番号の説明は
                                           Aa_Editor.xml参照 -->
<codefile-controls codefile-version="2.0">


    <!--
      このコントロールの紹介
    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
        ■
      ■■■ 耐性探すボタン
        ■
                                        [記号] Uc:能力_BEAR_Find;
                                        [種類] ボタン（C:Btn;）
                                        [画面] メイン画面（Ufo:メイン;）
                                                    （Forms/Ufo_メイン.csv）

                モンスターの耐性の
                選択リストを出すボタンです。

    ├──────────────────────────────────┤
      【その他の機能】
                                [ボタン押下時]
                                    ・「耐性」ウィンドウを開きます。
                                    ・「耐性」リストボックスで、
                                      現在選択されている項目が選ばれている
                                      状態にします。
    ┗━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┛
    -->
    <control>
        
        
        <!--
          イベントの設定
        ┌──────────────────────────────────┐
            ■
          ■  ■ このボタンを押下した時（①）。
            ■
            
              （１）「Ufo:BEAR;」ウィンドウ（②）を表示します。
                    ウィンドウオープン時に実行されるリフレッシャー
                    「Urfr:BEARWindowOpened;」（③）を指定することもできます。
              （２）リストボックスの項目を自動選択します。
                    「Uc:耐性_recordsLst;」リストボックス・コントロール（④）
                    の「ID」（⑤）フィールドを検索し、⑧の値に一致する項目を選
                    択します。
                    ここで、⑥の値は別のテーブルから検索して見つけたものを持っ
                    てきます。
                    
                    ・⑧の値を選ぶ方法を指定します。
                    「Ut:敵;」テーブル（⑦）の「BEAR」フィールド（⑧）から探し
                    だした値とします。
                    
                        ・レコードを選ぶ方法を指定します。（⑨）
                        「NO」フィールド（⑩）と、「Ui:選択モンスターRNo;」変
                        数（⑪）の内容が一致するレコードとします。
                    
                    該当するレコードがなかった場合、「3001」（⑫）を選びます。
                    空欄を指定した場合、「3001」（⑬）を選びます。
              （３）［トゥゲザーの設定］に名前が挙がっているコントロールを最新
                    の状態にし、このフォームの整合性を取ります。
        -->
        <event name="Se:ボタン押下時;"><!-- ① -->
            <fnc name="Sf:ウィンドウ表示;"><!-- （１） -->
                <arg name="Pm:name-together;"  value="Urfr:BEARWindowOpened;" /><!-- ③ -->
                <arg name="Pm:name-form;"     value="Ufo:BEAR;" /><!-- ② -->
            </fnc>
            <fnc name="Sf:リスト項目選択;"><!-- （２） -->
                <arg name="Pm:name-control;"    value="Uc:耐性_recordsLst;" /><!-- ④ -->
                <arg name="Pm:name-field-key;"  value="ID" /><!-- ⑤ -->
                <arg name="Pm:value-expected;">
                    <!-- ⑥ -->
                    <fnc name="Sf:Cell;">
                        <arg name="Pm:select;"  value="BEAR" /><!-- ⑧ -->
                        <arg name="Pm:from;"    value="Ut:敵;" /><!-- ⑦ -->
                        <fnc name="Sf:Where;">
                            <!-- ⑨ -->
                            <fnc name="Sf:RecCond;">
                               <arg name="Pm:field;" value="NO" /><!-- ⑩ -->
                               <f-var value="Ui:選択モンスターRNo;" /><!-- ⑪ -->
                            </fnc>
                        </fnc>
                    </fnc>
                </arg>
                <arg name="Pm:value-expected2;" description="非該当時のデフォルト値">
                    <f-str value="3001" /><!-- ⑫ -->
                </arg>
                <arg name="Pm:value-empty;" description="空欄時のデフォルト値">
                    <f-str value="3001" /><!-- ⑬ -->
                </arg>
            </fnc>
            <fnc name="Sf:整合性を取る;" /><!-- （３） -->
        </event>
        <!--
        └──────────────────────────────────┘
        -->


        <!--
          トゥゲザーの設定
        ┌──────────────────────────────────┐
              ■
          ■■■  このボタンを押下した時。
          ■

        -->
                        <!-- ① -->
        <together on="Se:ボタン押下時;" description="名前末尾の「*」はDirtyフラグ。" target="
            Uc:耐性_recordsLst;*
        "/> <!-- ② -->
        <!--
        ├──────────────────────────────────┤
          ※説明
              ・［イベントの設定］の「Se:ボタン押下時;」（①）の中に書かれてある
                「Sf:整合性を取る;」のタイミングで、名前が挙がっているコントロ
                ール（②）を最新の状態にし、このフォームの整合性を取ります。
          ※説明
              ・リストボックスの場合は、名前の後ろに「*」更新記号を付けること。
                リストボックスは、「更新」をしないと、表示が最新にならない。処
                理の重い再読み込みを行う。
        └──────────────────────────────────┘
        -->


    </control>


</codefile-controls>
